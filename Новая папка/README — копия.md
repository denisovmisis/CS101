# Документация по разработке приложений для клиентов и сотрудников БЦ «JapanHouse»


<!-- > Документация находится в разработке -->

## Назначение и цели проекта
Система предназначается для быстрого и качественного обмена информацией между клиентами и Администрацией БЦ «JapanHouse».


## Диаграмма компонентов системы
```plantuml
@startuml
skinparam monochrome true 

skinparam component {
  borderColor black
  backgroundColor white
  ArrowColor gray
}

package "Приложение" {
  [Арендатор]
  [Менеджер]
  [Потенциальный клиент]
}
 
cloud "REST API" 

database "BitrixSite" {
  
  frame "Уровень доступа публичный" {
      card "Публичные данные"
      
    } 
    frame "УД Арендатор" as arendator {
            card "Данные Арендатор"
            }
    frame "УД Менеджер" as manager {
    card "Данные Менеджер"
    }
}


[Арендатор] <--> [REST API]
[Менеджер] <--> [REST API]
[Потенциальный клиент] <--> [REST API]
[REST API] --> BitrixSite
[Данные Арендатор] ..> [Публичные данные]


[OneSignal Apple/Google Services]  <..... arendator
[OneSignal Apple/Google Services]  <.... manager

[OneSignal Apple/Google Services] --> [Арендатор]
[OneSignal Apple/Google Services] --> [Менеджер]

@enduml
```

### Основание для создания технической документации 
Решение Администрации БЦ «JapanHouse», на основе потребности клиентов к мобильному доступу по оказываемым услугам.

## Количество оказываемых услуг

Количество оказываемых услуг: 1 (одна) услуга по поставке и интеграции IT-комплекса в инфраструктуру Заказчика, включающая в себя:
1. Разработку проектной документации IT-комплекса
2. Интеграция с Bitrix Админ-панель сайта через REST API
3. Подготовка дизайна мобильных приложений согласно требований Apple и Google
4. Программирование и вёрстка мобильного нативного приложения для Android под смартфоны
5. Программирование и вёрстка мобильного нативного приложения для iOS под смартфоны
6. Интеграция с системами Remote Push-уведомлений от Apple и Google (**new**)
7. Внедрение статистических инструментов
8. Публикация мобильных приложений в AppStore и Google Play в аккаунте Заказчика
9.  Сдачу IT-комплекса на стендах находящихся на территории Заказчика


### Плановые сроки выполнения работ
Сроки начала и окончания работ определяются Договором с Исполнителем, но не более 2 месяцев с включенным периодом тестирования для начальной версии.

### Порядок оформления и предъявления результатов работ

Исполнитель: 
1. Готовит документацию по приёмке и методике тестирования
2. Проводит тестирование на своей технической базе 
3. Передает на ознакомление документацию по приёмке Заказчику
4. Проводит совместно с заказчиком приёмку и тестирование на территории Заказчика

Заказчик:
1. Принимает и изучает документацию методики тестирования
2. Проводит тестирование совместно с Исполнителем на территории Заказчика
3. Принимает продукт и подписывает акт приёмки

Приемочные испытания Мобильных приложений проводятся в соответствии с разрабатываемым Исполнителем документом «Программа и методика испытаний», который должен устанавливать необходимый и достаточный объем испытаний, обеспечивающий достоверность получаемых результатов.
Цель приемочных испытаний — проверка соответствия реализации мобильных приложений требованиям, определенным в технической документации.

Приемочные испытания должны состоять из следующих проверок:
- проверка комплектности эксплуатационной документации;
- проверка соответствия технических характеристик МП требованиям настоящей документации.

Процесс разработки и контроля разработки может быть разбит на этапы, указанные в разделе График запуска, включающую в себя перечень этапов, объем работ по каждому этапу, входящие информационные материалы, исходящие материалы, предъявляемые по окончанию соответствующих этапов.

Методы испытаний МП должны включать перечень действий проверки мобильных приложений и описание условий успешности проверки, соответствующих требованиям Технического задания.

Методы испытаний МП должны быть включены Исполнителем в документ «Программа и методика испытаний».

Заказчик назначает дату проведения приемочных испытаний и формирует приемочную комиссию, состоящую из представителей Заказчика. В приемочную комиссию включаются представители Исполнителя.

Заказчик совместно с Исполнителем проводит необходимые подготовительные мероприятия для проведения приемочных испытаний на территории Заказчика. Заказчик предоставляет помещение и технические средства для проведения приемочных испытаний.

Приемочные испытания завершаются подписанием комиссией акта приемочных испытаний.
В случае выявления несоответствий МП отправляется на доработку, которая производится Исполнителем не более чем за 7 рабочих дней, но с корректировкой на сложность необходимых изменений.


### Требования к составу и содержанию работ по подготовке к вводу в эксплуатацию
Перечень работ, выполняемых при подготовке разрабатываемых МП к вводу в эксплуатацию:

1. Представителем со стороны Заказчика должны быть подготовлены и добавлены в систему управления контентом(Админ-панель сайта на Bitrix) информационные материалы, предназначенные для наполнения информационных разделов мобильных приложений. Информационные материалы и изображения должны быть адаптированы для корректного отображения на экранах мобильных устройств. Совместно с Исполнителем определяются параметры информационных материалов.
2. В случае если представитель Заказчика не имеет возможности подготовить материалы в административной панели сайта на Bitrix, то подготавливается отдельным этапом и ресурсоёмкостью после разработки REST API, подготовка материалов Исполнителем.
3. Перед вводом в эксплуатацию МП Исполнитель оказывает содействие в регистрирации аккаунтов для размещения МП на площадках:
  * Apple Store
  * Google Play

На площадках по дистрибуции приложения размещаются Исполнителем. Аккаунты для площадок приобретаются Заказчиком или арендуются у Исполнителя.

### Требования к документированию

Исполнитель разрабатывает и передает Заказчику следующую документацию:
- программа и методика испытаний;
- регламент эксплуатации мобильных приложений;
- руководство администратора мобильных приложений через Админ-панель сайта на Bitrix **japanhouse.ru**;
- общее описание системы

Документы должны быть переданы Заказчику на электронном носителе.

### Гарантийные обязательства и техническое сопровождение
Гарантийный срок на работы не ограничен и исчисляется с даты подписания акта сдачи-приемки работ. В течение указанного периода Исполнитель осуществляет полную бесплатную техническую поддержку МП, оперативно устраняет сбои и ошибки в работе МП в случае отсутствия влияния на систему третьих сторон.

Исполнитель в течение гарантийного периода осуществляет подготовку и публикацию обновлений МП.

В случае если после сдачи IT-комплекса Заказчику, третьи стороны не влияли на продукт, то гарантия IT-комплекса со стороны Исполнителя — бессрочна.

Дополнительное техническое обслуживание МП может осуществляться Исполнителем по отдельному договору.

## Окружение и операционные системы
#### Стационарные ОС
Не подразумеваются в рамках выполнения работ.
#### Мобильные ОС
* Android v8+
* iOS v12+


<!-- ## График запуска версии 0.1
| Месяц | Описание этапа |
| :---------: | :----------- |
| 01.2020   | Подготовка проектной документации |
| 01.2020 | Начало работ UX/UI платформы |
| 01.2020  | Старт вёрстки и программирования мобильных приложений для iOS и Android|
| 02.2020  | Интеграция с API CRM Winlee|
| 02.2020  | Тестирование системы в полях на Android|
| 03.2020  | Публикация в Appstore/Google Play версии для Арендатора| -->

--- 
# Интеграция с внешними сервисами

### Требования к разработке API к взаимному обмену данными по API

1. Синхронизация работы приложения с серверной частью Админ-панель сайта **japanhouse.ru**
2. Синхронизация приложения с Админ-панелью сайта происходит при каждом подключении приложения (при условии наличии подключения к сети Интернет).

Каждый раз, когда пользователь в приложении вносит какие-либо изменения в личные данные или запрашивает обновления, каталог информации приложения уведомляет об этом сервер и передает или получает данные о внесенных изменениях.


### Технические принципы работы с API
Приложение обменивается информацией с сервером — поставщиком данных. На сервере хранится информация о статусах и действиях пользователя. Получая данную информацию с сервера, приложение сохраняет её в свою внутреннюю базу данных и файловое хранилище, при необходимости обновляя путем соответствующего запроса к серверу.

### Схема обмена информацией
Приложение обращается к серверу через защищенный протокол https (при этом сервер имеет действующий SSL-сертификат). Точкой обращения является конкретный адрес, например: https://domain.ru/api/. Все запросы на сервер отправляются соответстующими методами, при этом данные запросов и ответов передаются в формате JSON.

### Формат API

Подготовкой API занимается Исполнитель.
API должно обеспечить реализацию всего оговоренного в данном документе функционала.

Требования к разрабатываемому API:
- отображение информационных экранов для неавторизованных пользователей
- реализация авторизации без регистрации
- реализация обработки заявок со стороны пользователя
- реализация получения заявок и списка заявок
- реализация методов для remote push notifications (**new**)

Коды ошибок: 

**200** OK — это ответ на успешные GET, PUT, PATCH или DELETE. Этот код также используется для POST, который не приводит к созданию.

**201** Created — этот код состояния является ответом на POST, который приводит к созданию.

**204** Нет содержимого. Это ответ на успешный запрос, который не будет возвращать тело (например, запрос DELETE)

**304** Not Modified — используйте этот код состояния, когда заголовки HTTP-кеширования находятся в работе

**400** Bad Request — этот код состояния указывает, что запрос искажен, например, если тело не может быть проанализировано

**401** Unauthorized — Если не указаны или недействительны данные аутентификации. Также полезно активировать всплывающее окно auth, если приложение используется из браузера

**403** Forbidden — когда аутентификация прошла успешно, но аутентифицированный пользователь не имеет доступа к ресурсу

**404** Not found — если запрашивается несуществующий ресурс

**405** Method Not Allowed — когда запрашивается HTTP-метод, который не разрешен для аутентифицированного пользователя

**410** Gone — этот код состояния указывает, что ресурс в этой конечной точке больше не доступен. Полезно в качестве защитного ответа для старых версий API

**415** Unsupported Media Type. Если в качестве части запроса был указан неправильный тип содержимого

**422** Unprocessable Entity — используется для проверки ошибок

**429** Too Many Requests — когда запрос отклоняется из-за ограничения скорости

**Типы запросов:**

**GET** — для получения данных с сервера

**POST** — для добавления новых данных на сервер

**PUT** — для редактирования данных

**PATCH** — для частичного обновления данных на сервер : например для обновления 1 поля объекта

**DELETE** — для удаления данных на сервере : например, для удаления избранного у пользователя локально

**OPTIONS** — для сложных случаев, когда нельзя предсказать возможные варианты использования после действия пользователя

### Требования к надежности и безопасности приложения
При разработке приложения необходимо предусмотреть защиту от взлома приложения на всех этапах его функционирования:
- локальная работа приложения без связи с сервером;
- работа приложения при синхронизации сервером;

Если пользователь не имеет доступа к сети Интернет, то прилоежние отображет ему окно «Пожалуйста, подключитесь к Интернету» и кнопка «ОК» / «Перейти в Настройки».

Если пользователь забанен или отключен из системы, то его авторизационная сессия на мобильном клиенте завершается.
И пуш-уведомления не приходят для этого пользоватля(**new**).

### Push-notifications in mobile apps

> Раздел требует плотной валидации от Заказчика

![Уведомления](i/notifications.svg)

Для пользователя мобильного приложения с ролью **«Арендатор»**: 
- Заявка одобрена
- Заявка отклонена

Для пользователя мобильного приложения с ролью **«Менеджер»**: 
- Новая заявка

Предлагается провайдер уведомлений: **OneSignal**

Для веб-админ-панели сайта потребуется интеграция через документацию описанную [по ссылке](https://documentation.onesignal.com/docs/web-push-quickstart) </br>
Для мобильных приложений интеграция через flutter sdk  [по ссылке](https://documentation.onesignal.com/docs/flutter-sdk-setup)


## Сбор статистики

1. Сколько прочитанных Push-уведомлений
2. Сколько раз пользователь в течении дня открывает приложение
3. Сколько времени пользователь в течении дня проводит в приложении
4. На каждый экран при открытии добавляется событие об открытии экрана пользователем
5. Выбранные сервисы для сбора: YandexAppMetricaSDK и FacebookSDK

--- 

## Сценарии использования пользователем

### 1. Пользователь не является клиентом БЦ

```plantuml
@startuml
skinparam monochrome reverse 

left to right direction
User <<Клиент>>
Admin <<Администратор сайта>>

rectangle {

    agent "Приложение" as app

    User <--> app
    app . [Админ-панель сайта]
    [Админ-панель сайта] <-- Admin
}
@enduml
```

### 2. Пользователь клиент БЦ

```plantuml
@startuml
skinparam monochrome reverse 

left to right direction
User <<Клиент>>
Manager <<Менеджер сайта>>
Admin <<Администратор сайта>>

rectangle {

    agent "iOS/Android" as phone
    cloud "Push / REST API" as push 
    agent "Приложение" as app

    User <--> app
    phone ..> app
    (push) ..> phone
    app ..> [Админ-панель сайта]
    [Админ-панель сайта] .> push :   Firebase API
    [Админ-панель сайта] <--> Admin
    [Панель менеджера] <...> [Админ-панель сайта]
    [Панель менеджера] <--> Manager
}
@enduml
```

## Диаграмма последовательностей для пользователя приложения

```plantuml

@startuml
skinparam monochrome reverse 

actor Пользователь as user
entity Приложение as app
control API as api
database Bitrix as crm
actor Менеджер as admin
control Onesignal as pushServers

== Инициализация==
user -> app : Установка из GooglePlay/AppStore
app -> crm: Информация о компании, статический и динамический контент
user <-- app : Запрос на авторизацию
activate app
user -> app : Логин и пароль
app -> api : Проверка авторизации
activate api
api -> crm : Передача параметров сессии
activate crm
api <- crm : Успешная авторизация
api -> app : Подтверждение входа
app -> user : отображение данных главного экрана приложения
deactivate app
api <-- crm : Нет пользовтеля в базе
destroy crm
api --> app : Пользователь не найден
deactivate api
activate app
app -> user: «Проверьте правильность логина/пароля»
deactivate app

==Работа в личном кабинете==
app --> user : запрос на отправку push уведомлений
user -> app : разрешил отправку push-уведомлений
app -> crm : запрос на данные по пользователю
crm -> app : данные по профилю пользователя
user <- app : отображение статической информации пользователю
user -> app : нажатие на плитку «{тип} заявки»
app ->user : вывод списка активных заявок выбранного типа
user -> app : просмотр деталей выбранной заявки
app -> crm : запрос деталей по заявке
app <- crm : ответ об актуальности, выдача деталей
app -> user : экран с информацией по заявке
user -> app : заявка принята к рассмотрению
user -> app : нажатие на плитку {Создать заявку}
app --> user : экран формы заполнения Заявки
user -> app : нажатие на отправку заполненной заявки
app --> user : Заявка успешно отправлена
app --> crm : Передача заявки на обработку менеджеру сайта

...Время на обработку заявки...

...Результат выполнения заявки...
crm -> pushServers
pushServers --> MobileOS
MobileOS -> app
app -> user : отображение текста уведомления
user -> app : нажатие на уведомление
app -> user : детальный просмотр выполненной заявки

== Просмотр публичной информации в приложении ==

user ->app : переход на экран со статически=динамическим контентом
app --> crm : запрос деталей по выбранному экрану
crm --> app : возвращение деталей по запросу актуальной версии контента
app --> user : отображает детали по выбранному экрану пользователю
== Опциональные действия ==
user -> app : свернул/закрыл приложение
app -> app : очистила временное хранилище данных
user -> app : запустил приложение заново
app -> crm : запрос актуальной версии контента для пользователя
crm -> app : возвращение актуальной версии контента для экранов
app -> user : отображение контента выбранного экрана(ов)
@enduml
```


## Диаграмма последовательностей для менеджера Компании

```plantuml

@startuml
skinparam monochrome reverse 

actor Менеджер as user
entity Приложение as app
control MobileOS
control API as api
database Bitrix as crm
control Onesignal as pushServers

== Инициализация==
user -> app : Установка из GooglePlay/AppStore
app -> crm: Информация о компании, статический и динамический контент
user <-- app : Запрос на авторизацию
activate app
user -> app : Логин и пароль
app -> api : Проверка авторизации
activate api 
api -> crm : Передача параметров сессии
activate crm 
api <- crm : Успешная авторизация
api -> app : Подтверждение входа
app -> user : отображение данных главного экрана приложения
deactivate app
api <-- crm : Нет пользовтеля в базе
destroy crm 
api --> app : Пользователь не найден
deactivate api
activate app
app -> user: «Проверьте правильность логина/пароля»
deactivate app

==Работа в личном кабинете==
app --> user : запрос на отправку push уведомлений
user -> app : разрешил отправку push-уведомлений
app -> crm : запрос на данные по менеджеру
crm -> app : данные по профилю менеджера
user <- app : отображение статической информации менеджеру
user -> app : нажатие на плитку «{тип} заявки»
app ->user : вывод списка входящих заявок выбранного типа
user -> app : просмотр деталей выбранной заявки
app -> crm : запрос деталей по заявке
app <- crm : ответ об актуальности, выдача деталей
app -> user : экран с информацией по заявке
user -> app : нажатие на плитку {Одобрить заявку} / {Отклонить заявку}
app --> user : Заявка успешно отправлена
app --> crm : Передача информации о заявке
Пользователь <-- crm : Уведомляет пользователя о заявке

...Время на обработку заявки...

...Результат выполнения заявки...
crm -> pushServers
pushServers --> MobileOS
MobileOS -> app
app -> user : отображение текста уведомления
user -> app : нажатие на уведомление
app -> user : детальный просмотр заявки

@enduml
```

### Git flow и релизная политика
Процедура деплоя после релиза должна работать через согласованный git flow: 
   1. Разработчики инициируют новую фичу путём создания ветки [myfeature] от ветки `develop`<br>
        Для начала разработки фичи выполняется:
       `git flow feature start MYFEATURE `. Это действие создаёт новую ветку фичи, основанную на ветке "develop", и переключается на неё.
   2. После заверешния работ с новой функциональностью разработчик отправляет ветку на тестирование.  Окончание разработки фичи. Это действие выполняется так: 
    - Слияние ветки MYFEATURE в "develop"
    - Удаление ветки фичи
    - Переключение обратно на ветку "develop"

  Команда: `git flow feature finish MYFEATURE`

   1. В случае успешно пройденного тестирования, разработчик после валидации от тимлида или продюсера делает слияние с веткой `develop`
   2. Ветка `develop` проходит новую итерацию тестирования
   3. Для начала работы над релизом используйте команду `git flow release` Она создаёт ветку релиза, ответляя от ветки "develop".
   4. После прохождения тестирования релиза, происходит слияние ветки `staging` в ветку `release x.x.x.x`, где x = номер релиза. Важное требование: сразу публиковать ветку релиза после создания, чтобы позволить другим разработчиками выполнять коммиты в ветку релиза.    
   5. После успешного релиза — нужно делать слияние в ветку `master`
      * Ветка релиза сливается в ветку "master"
      * Релиз помечается тегом равным его имени
      * Ветка релиза сливается обратно в ветку "develop"
      * Ветка релиза удаляется
    
    Команда `git flow release finish RELEASE `

# Доставка на рынок

### Размещение в Appstore & Google Play
#### Подготовка к публикации
1. Необходимо использовать приобретенный или купить новый аккаунт разработчика для Apple = 100$ ежегодная плата, Google = 25$ с неиссякаемой лицензией. 
2. Подготовка всех скриншотов необходимы к публикации
3. Генерация ключей для подписи приложения перед публикацией в Appstore
4. Генерация `keystore ` должна осуществляться прямо в репозитории проекта. 
5. Необходимо сохранить информацию о паролях и alias-ах в репозитории проекта. 

#### Загрузка в магазины сборок приложений
1. Заполняется информация о будущих мобильных приложениях
2. Загрузка скриншотов и промо-материалов для страницы
3. Загрузка сборки в alpha-channel Google Play и Testflight
4. После тестирования из alpha & Testflight публикация в полную валидацию и релиз в магазины
5. После тестов отправка в продакшн модерацию от Apple и Google

# Требования к дизайну 
1. Логотип компании по ссылке: [psd](files/JapanHouse_Logo%202.psd), [eps, вектор](files/JapanHouse_Logo.eps). 
2. Из логотипа необходимо сделать иконку. Фон для иконки серый. Код цвета фона #808080, можно [увидеть по ссылке](https://www.yandex.ru/search/?text=%23808080&lr=10735&clid=2186621). 
3. Фирменные шрифты компании по ссылке: [bold](files/CTCScreen_Bold.otf), [medium](files/CTCScreen_Medium.otf), [reuglar](files/CTCScreen_Regular.otf)
4. Фирменные цвета: белые буквы на красном или чёрном фоне. Без определенных требований к комбинаторике.

# Интерфейсы пользователя

## Экран «Приветствие»
![](i/home.svg)

**Тип экрана:** динамический контент, получение API

**Бизнес-логика:** 
Экран подразумевает отбражение кратких возможностей в приложении.
Возможность перехода на экран авторизации. 
Возможность перехода на экраны с контентом.

**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы:**

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |


**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :--------- | :-----------: | :----------- |:-----------  |:----------- |


## Экран «Новости компании»
![](i/news.svg)

**Тип экрана:** динамический контент, получение API

**Бизнес-логика:** 
Отображение материалов с сайта. Пример материалов: 
https://japanhouse.ru/news/novosti-yaponskogo-doma/
https://japanhouse.ru/news/novosti-arendatorov/
https://japanhouse.ru/news/novosti-partnerov/
https://japanhouse.ru/news/novyy-logotip-olimpiyskikh-igr-2024-/


**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы**:

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |


**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :--------- | :-----------: | :----------- |:-----------  |:----------- |


## Экран «Просмотр медиа-контента»
**Тип экрана:** статический контент

**Бизнес-логика:** 
Служебный экран, цель которого помогать пользователю просматривать фото и видеоматериалы получаемые с сайта.

**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы**:

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |


**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :--------- | :-----------: | :----------- |:-----------  |:----------- |


## Экран «О компании»
![](i/about.svg)

**Тип экрана:** динамический контент, получение API

**Бизнес-логика:** 
Отображение материалов с сайта: 
https://japanhouse.ru/about/ 
https://japanhouse.ru/about/partners/
https://japanhouse.ru/about/contacts/ 

**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы:**

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |


**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :--------- | :-----------: | :----------- |:-----------  |:----------- |



## Экран «Предложения по аренде»
![](i/rentList.svg)

**Тип экрана:** динамический контент, получение API

**Бизнес-логика:**
Отображение контента из раздела сайта:
https://japanhouse.ru/for-rent/


**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы**:

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |


**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :--------- | :-----------: | :----------- |:-----------  |:----------- |

## Экран «Просмотр помещений»

![](i/floorMap.svg)

**Тип экрана:** динамический контент, получение API

**Бизнес-логика:** просмотр предложения по аренде на выбранном этаже https://japanhouse.ru/for-rent/7-1/, если этаж сдан полностью, то пользователь не может открыть выбранный этаж


**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы**:

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |


**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :--------- | :-----------: | :----------- |:-----------  |:----------- |

## Экран «Вход в кабинет»

![](i/login.svg)

**Тип экрана:**

**Бизнес-логика:**
Пользователь входит в личный кабинет.
Менеджер входит в личный кабинет.

**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы**:

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |


**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :--------- | :-----------: | :----------- |:-----------  |:----------- |

## Экран «Профиль пользователя»

![](i/userProfile.svg)

**Тип экрана:**

**Бизнес-логика:**
Просмотр профиля пользователя и/или менеджера.

**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы**:

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |


**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :--------- | :-----------: | :----------- |:-----------  |:----------- |

## Экран «Список заявок»

![](i/orderList.svg)

**Тип экрана:**

**Бизнес-логика:**
Перечень заявок открытых в прошлом.

**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы**:

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |


**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :--------- | :-----------: | :----------- |:-----------  |:----------- |

## Экран «Оформление заявки»

![](i/fillOrder.svg)

**Тип экрана:**

**Бизнес-логика:**
Форма для создания новой заявки. Пользователь может как создать заявку, так и отменить создание вернувшись на предыдущий экран.

**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы**:

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |

**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :--------- | :-----------: | :----------- |:-----------  |:----------- |
| | |  | ||

## Экраны «Личный кабинет менеджера»

![](i/userProfile.svg)
![](i/orderList.svg)

**Тип экрана:**

**Бизнес-логика:**
Интерфейс для менеджера компании в котором он может отклонять и одобрять заявки.
Кроме этих разделов он не может осуществлять какие-либо другие операции из своего интерфейса. 
Если менеджер хочет создать заявку за пользователя, ему потребуется авторизоваться под учетной записью этого пользователя.

**Отображение данных:**

| Наименование | Тип | Формат| Поставщик | Примечание |
| :--------- | :-----------: | :-----------: | :-----------: | :----------- |
|  |  |  | | |

**Навигация, события, переходы**:

| Элемент | Действие | Статус | Назначение |
| :------ | :--------: | :--------: |:----------- |
|  | Tap | Success | Экран « » |

**Методы REST API:**

| Метод | Тип запроса  | Формат ответа  | Параметры запроса | Дополнительно |
| :---  | :---:        | :---           |:---               |:---           |
|       |              |                |                   |               |
